# Spring4

## 面向切面编程

#### 了解面向切面编程

* 横切关注点：影响应用多处的功能，如日志，事务，安全功能。
* 切面：横切关注点可以被模块化为特殊的类，这些类称为切面。
* 面向切面编程：将业务关注点与其他必须关注点隔离，使业务模块能够更专心的处理本身核心业务，不必关注非核心业务
的编程方式。
* 面向切面（AOP）术语：
  * 连接点（Join point）：应用程序执行过程中能够插入切面的一个点。
  * 切点（Pointcut）:匹配通知所要织入的一个或多个连接点。
  * 通知（Advice）：描述切面所要完成的工作以及何时工作。
  * 切面（Aspect）：切点和通知的结合。
  * 引入（Introduction）：向现有类添加新属性以及方法。
  * 织入（Weaving）：将切面应用到目标对象并创建新的代理对象的过程。
* Spring对AOP的支持
  * 基于代理的经典Spring AOP（使用注解）
  * 纯POJO切面（使用XML）
  * @AspectJ注解驱动的切面
  * 注入式AspectJ切面
  * PS：
    * Spring在运行时通知对象，运行期把切面织入到Spring管理的bean中，代理类封装了目标类，并拦截被通知方法的调用，先执行切面逻辑，再把调用转发到真正的bean。
    * Spring AOP只支持方法级别的连接点，AspsctJ和JBoss除了支持方法级别的连接点还提供属性以及构造器连接点。
* 切点指示器
  * arg()：限制连接点匹配参数为指定类型的执行方法
  * @args()：限制连接点匹配参数由指定注解标注的执行方法
  * execution()：用于匹配是连接点的执行方法
  * this()：限制连接点匹配AOP代理的bean引用为指定类型的类
  * target()：限制连接点匹配目标对象为指定类型的类
  * @Target()：限制连接点匹配特定的执行对象，这些对象对应的类要具有指定类型的注解
  * within()：限制连接点匹配指定的类型
  * @within()：限制连接点匹配指定注解所标注的类型
  * @annotation：限制匹配带有指定注解的连接点
  * bean()

* 切点表达式
  * execution(* 全限定类名.方法名(..) )
  * *号代表返回类型，..代表任意参数

#### 使用注解创建切面

#### 使用XML创建切面

#### 注入AspectJ切面
